# 终末地拼图解谜工具

## ✨ 功能特性

- **截图智能解析**：上传游戏截图，自动识别网格、障碍物、锁定方块、拼图块和行列颜色约束
- **可视化拼图编辑器**：支持自定义网格大小、障碍物、锁定方块
- **拼图块管理**：创建自定义形状和颜色的拼图块
- **行列颜色约束**：设置每行/每列需要的各颜色方块数量
- **自动求解**：使用 CSP 求解器自动找出解法

## 🛠️ 技术栈

- Next.js 16 + React 19
- TypeScript
- Tailwind CSS 4
- shadcn/ui 组件库

## 🚀 快速开始

### 前置要求

- Node.js 20+
- pnpm

### 安装依赖

```bash
pnpm install
```

### 配置后端 API

在项目根目录创建 `.env.local` 文件，配置后端 API 地址：

```env
API_BASE_URL=http://localhost:8000
```

如果你需要本地运行后端服务，请参考 [ak-endfield-puzzle-api](https://github.com/SihenZhang/ak-endfield-puzzle-api) 仓库说明。

### 启动开发服务器

```bash
pnpm dev
```

打开 [http://localhost:3000](http://localhost:3000) 即可使用。

## 📖 使用说明

### 方式一：上传游戏截图（推荐）

1. **截取游戏画面**：在游戏中截取完整的拼图界面
2. **上传解析**：点击工具栏的「上传截图」按钮，选择截图文件
3. **自动识别**：系统将自动识别网格布局、障碍物、锁定方块、拼图块和约束条件
4. **求解**：点击「求解」按钮，等待求解器找出解法

### 方式二：手动编辑

1. **设置网格**：使用工具栏调整行数和列数
2. **放置障碍物**：选择障碍物工具，点击格子放置/移除障碍物
3. **放置锁定块**：选择锁定块工具和颜色，点击格子放置锁定的彩色方块
4. **创建拼图块**：点击「添加拼图块」按钮，在编辑器中设计形状和颜色
5. **设置约束**：点击行/列旁边的需求条，设置该行/列需要的各颜色数量
6. **求解**：点击「求解」按钮，等待求解器找出解法

## 🔗 相关项目

- [ak-endfield-puzzle-api](https://github.com/SihenZhang/ak-endfield-puzzle-api) - 后端 API 服务（截图解析 + CSP 求解器）
