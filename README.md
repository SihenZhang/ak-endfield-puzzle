# 终末地拼图谜题求解器

基于约束满足问题（CSP）的拼图谜题自动求解器，专为《明日方舟：终末地》设计。

## ✨ 功能特性

- **可视化拼图编辑器**：支持自定义网格大小、障碍物、锁定方块
- **拼图块管理**：创建自定义形状和颜色的拼图块
- **行列颜色约束**：设置每行/每列需要的各颜色方块数量
- **自动求解**：使用 OR-Tools CP-SAT 求解器自动找出解法
- **旋转支持**：自动尝试拼图块的 0°/90°/180°/270° 旋转

## 🛠️ 技术栈

**前端**
- Next.js 16 + React 19
- TypeScript
- Tailwind CSS 4
- shadcn/ui 组件库

**后端**
- FastAPI
- Google OR-Tools（CP-SAT 约束求解器）

## 🚀 快速开始

### 前置要求

- Node.js 20+
- pnpm
- Python 3.12+
- uv（Python 包管理器）

### 安装依赖

```bash
# 前端依赖
pnpm install

# 后端依赖
uv sync
```

### 启动开发服务器

```bash
# 启动前端（端口 3000）
pnpm dev

# 启动后端 API（端口 8000）
uv run uvicorn api.main:app --reload
```

打开 [http://localhost:3000](http://localhost:3000) 即可使用。

## 📖 使用说明

1. **设置网格**：使用工具栏调整行数和列数
2. **放置障碍物**：选择障碍物工具，点击格子放置/移除障碍物
3. **放置锁定块**：选择锁定块工具和颜色，点击格子放置锁定的彩色方块
4. **创建拼图块**：点击「添加拼图块」按钮，在编辑器中设计形状和颜色
5. **设置约束**：点击行/列旁边的需求条，设置该行/列需要的各颜色数量
6. **求解**：点击「求解」按钮，等待求解器找出解法
